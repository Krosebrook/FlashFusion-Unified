modules = ["nodejs-20"]

[nix]
channel = "stable-24_05"

[deployment]
run = ["npm", "start"]
deploymentTarget = "cloudrun"
ignorePorts = false

[[ports]]
localPort = 3000
externalPort = 80

[env]
NODE_ENV = "production"
PORT = "3000"

[agent]
integrations = ["javascript_stripe==1.0.0", "javascript_database==1.0.0", "javascript_anthropic==1.0.0", "javascript_log_in_with_replit==1.0.0"]

[workflows]
runButton = "Start Application"

[[workflows.workflow]]
name = "Start Application"
author = 41220094
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm install"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"
